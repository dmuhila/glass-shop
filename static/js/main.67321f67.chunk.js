(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{26:function(e,t,a){e.exports=a.p+"static/media/cart.62e96ce8.jpg"},27:function(e,t,a){e.exports=a.p+"static/media/empty_cart.34946170.jpg"},28:function(e,t,a){e.exports=a.p+"static/media/Glass.f268fa0f.jpg"},29:function(e,t,a){e.exports=a(81)},34:function(e,t,a){},81:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(8),s=a.n(r),i=(a(34),a(2)),l=a(3),o=a(6),u=a(4),d=a(5),m=a(1),h=a(24),p=a.n(h),v=a(10),b=a.n(v),f=a(25),E=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).handleScroll=a.handleScroll.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){window.addEventListener("scroll",this.handleScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this.handleScroll)}},{key:"handleScroll",value:function(e){this.refs.scrollbars.getValues().top>=1&&(console.log("Reached scroll end!"),e.stopPropagation())}},{key:"render",value:function(){return c.a.createElement(f.Scrollbars,{style:{width:360,height:320},ref:"scrollbars"},this.props.children)}}]),t}(n.Component),y=a(26),k=a.n(y),O=a(27),g=a.n(O),j=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={showCart:!1,cart:a.props.cartItems},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleCart",value:function(e){e.preventDefault(),this.setState({showCart:!this.state.showCart})}},{key:"handleClickOutside",value:function(e){var t=Object(r.findDOMNode)(this.refs.cartPreview);Object(r.findDOMNode)(this.refs.cartButton);t.classList.contains("active")&&(t&&t.contains(e.target)||(this.setState({showCart:!1}),e.stopPropagation()))}},{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"render",value:function(){var e,t,a=this;return t=(e=this.state.cart.map(function(e){return c.a.createElement("li",{className:"cart-item",key:e.name},c.a.createElement("img",{className:"product-image",src:e.image}),c.a.createElement("div",{className:"product-info"},c.a.createElement("p",{className:"product-name"},e.name),c.a.createElement("p",{className:"product-price"},e.price)),c.a.createElement("div",{className:"product-total"},c.a.createElement("p",{className:"quantity"},e.quantity," ",e.quantity>1?"Nos.":"No."," "),c.a.createElement("p",{className:"amount"},e.quantity*e.price)),c.a.createElement("a",{className:"product-remove",href:"#",onClick:a.props.removeProduct.bind(a,e.id)},"\xd7"))})).length<=0?c.a.createElement("div",{className:"empty-cart"},c.a.createElement("img",{src:g.a,alt:"empty-cart"}),c.a.createElement("h2",null,"You cart is empty!")):c.a.createElement(b.a,{transitionName:"fadeIn",transitionEnterTimeout:500,transitionLeaveTimeout:300,component:"ul",className:"cart-items"},e),c.a.createElement("div",null,c.a.createElement("a",{className:"cart-icon",href:"#",onClick:this.handleCart.bind(this),ref:"cartButton"},c.a.createElement("img",{className:this.props.cartBounce?"tada":" ",src:k.a,alt:"Cart",style:{width:"70px"}}),this.props.totalItems?c.a.createElement("span",{className:"cart-count"},this.props.totalItems):""),c.a.createElement("div",{className:this.state.showCart?"cart-preview active":"cart-preview",ref:"cartPreview"},c.a.createElement(E,null,t),c.a.createElement("div",{className:"action-block"},c.a.createElement("button",{type:"button",className:this.state.cart.length>0?" ":"disabled"},"PROCEED TO CHECKOUT"))))}}]),t}(c.a.Component),N=a(28),C=a.n(N),S=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={mobileSearch:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"handleSubmit",value:function(e){e.preventDefault()}},{key:"handleMobileSearch",value:function(e){e.preventDefault(),this.setState({mobileSearch:!0})}},{key:"handleSearchNav",value:function(e){e.preventDefault(),this.setState({mobileSearch:!1},function(){this.refs.searchBox.value="",this.props.handleMobileSearch()})}},{key:"render",value:function(){return c.a.createElement("header",null,c.a.createElement("div",{className:"container"},c.a.createElement("div",{className:"brand"},c.a.createElement("img",{className:"logo",src:C.a,alt:"Glass Logo"})),c.a.createElement("div",{className:"search"},c.a.createElement("a",{className:"mobile-search",href:"#",onClick:this.handleMobileSearch.bind(this)},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1494756966/icons/search-green.png",alt:"search"})),c.a.createElement("form",{action:"#",method:"get",className:this.state.mobileSearch?"search-form active":"search-form"},c.a.createElement("a",{className:"back-button",href:"#",onClick:this.handleSearchNav.bind(this)},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1494756030/icons/back.png",alt:"back"})),c.a.createElement("input",{type:"search",ref:"searchBox",placeholder:"Glass Search",className:"search-keyword",onChange:this.props.handleSearch}),c.a.createElement("button",{className:"search-button",type:"submit",onClick:this.handleSubmit.bind(this)}))),c.a.createElement("div",{className:"cart"},c.a.createElement("div",{className:"cart-info"},c.a.createElement("table",null,c.a.createElement("tbody",null,c.a.createElement("tr",null,c.a.createElement("td",null,"No. of items"),c.a.createElement("td",null,":"),c.a.createElement("td",null,c.a.createElement("strong",null,this.props.totalItems))),c.a.createElement("tr",null,c.a.createElement("td",null,"Sub Total"),c.a.createElement("td",null,":"),c.a.createElement("td",null,c.a.createElement("strong",null,this.props.total)))))),c.a.createElement(j,{cartBounce:this.props.cartBounce,cartItems:this.props.cartItems,totalItems:this.props.totalItems,removeProduct:this.props.removeProduct}))))}}]),t}(n.Component),w=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={value:a.props.productQuantity},a.increment=a.increment.bind(Object(m.a)(Object(m.a)(a))),a.decrement=a.decrement.bind(Object(m.a)(Object(m.a)(a))),a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"increment",value:function(e){this.setState(function(e){return{value:Number(e.value)+1}},function(){this.props.updateQuantity(this.state.value)}),e.preventDefault()}},{key:"decrement",value:function(e){if(e.preventDefault(),this.state.value<=1)return this.state.value;this.setState(function(e){return{value:Number(e.value)-1}},function(){this.props.updateQuantity(this.state.value)})}},{key:"feed",value:function(e){this.setState({value:this.refs.feedQty.value},function(){this.props.updateQuantity(this.state.value)})}},{key:"resetQuantity",value:function(){this.setState({value:1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"stepper-input"},c.a.createElement("a",{href:"#",className:"decrement",onClick:this.decrement},"\u2013"),c.a.createElement("input",{ref:"feedQty",type:"number",className:"quantity",value:this.state.value,onChange:this.feed.bind(this)}),c.a.createElement("a",{href:"#",className:"increment",onClick:this.increment},"+"))}}]),t}(n.Component),T=function(e){function t(e){var a;return Object(i.a)(this,t),(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={selectedProduct:{},quickViewProdcut:{},isAdded:!1},a}return Object(d.a)(t,e),Object(l.a)(t,[{key:"addToCart",value:function(e,t,a,n,c){this.setState({selectedProduct:{image:e,name:t,price:a,id:n,quantity:c}},function(){this.props.addToCart(this.state.selectedProduct)}),this.setState({isAdded:!0},function(){var e=this;setTimeout(function(){e.setState({isAdded:!1,selectedProduct:{}})},3500)})}},{key:"quickView",value:function(e,t,a,n){this.setState({quickViewProdcut:{image:e,name:t,price:a,id:n}},function(){this.props.openModal(this.state.quickViewProdcut)})}},{key:"render",value:function(){var e=this.props.image,t=this.props.name,a=this.props.price,n=this.props.id,r=this.props.productQuantity;return c.a.createElement("div",{className:"product"},c.a.createElement("div",{className:"product-image"},c.a.createElement("img",{src:e,alt:this.props.name,onClick:this.quickView.bind(this,e,t,a,n,r)})),c.a.createElement("h4",{className:"product-name"},this.props.name),c.a.createElement("p",{className:"product-price"},this.props.price),c.a.createElement(w,{productQuantity:r,updateQuantity:this.props.updateQuantity,resetQuantity:this.resetQuantity}),c.a.createElement("div",{className:"product-action"},c.a.createElement("button",{className:this.state.isAdded?"added":"",type:"button",onClick:this.addToCart.bind(this,e,t,a,n,r)},this.state.isAdded?"\u2714 ADDED":"ADD TO CART")))}}]),t}(n.Component),M=function(){return c.a.createElement("div",{className:"product loading"},c.a.createElement("div",{className:"product-image"}),c.a.createElement("div",{className:"product-text"}),c.a.createElement("div",{className:"product-text"}),c.a.createElement("div",{className:"product-text"}),c.a.createElement("div",{className:"product-button"}))},q=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){return c.a.createElement("div",{className:"products loading"},c.a.createElement(M,null),c.a.createElement(M,null),c.a.createElement(M,null),c.a.createElement(M,null),c.a.createElement(M,null),c.a.createElement(M,null),c.a.createElement(M,null),c.a.createElement(M,null))}}]),t}(n.Component),P=function(){return c.a.createElement("div",{className:"products"},c.a.createElement("div",{className:"no-results"},c.a.createElement("img",{src:"https://res.cloudinary.com/sivadass/image/upload/v1494699523/icons/bare-tree.png",alt:"Empty Tree"}),c.a.createElement("h2",null,"Sorry, no products matched your search!"),c.a.createElement("p",null,"Enter a different keyword and try.")))},Q=function(e){function t(){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e,t,a=this,n=this.props.searchTerm;return t=(e=this.props.productsList.filter(function(e){return function(t){return t.name.toLowerCase().includes(e.toLowerCase())||!e}}(n)).map(function(e){return c.a.createElement(T,{key:e.id,price:e.price,name:e.name,image:e.image,id:e.id,addToCart:a.props.addToCart,productQuantity:a.props.productQuantity,updateQuantity:a.props.updateQuantity,openModal:a.props.openModal})})).length<=0&&!n?c.a.createElement(q,null):e.length<=0&&n?c.a.createElement(P,null):c.a.createElement(b.a,{transitionName:"fadeIn",transitionEnterTimeout:500,transitionLeaveTimeout:300,component:"div",className:"products"},e),c.a.createElement("div",{className:"products-wrapper"},t)}}]),t}(n.Component),A=function(e){return c.a.createElement("footer",null,c.a.createElement("p",{className:"footer-links"},c.a.createElement("a",{href:"https://github.com/dmuhila",target:"_blank",rel:"noopener noreferrer"},c.a.createElement("i",{class:"fab fa-github-square fa-3x",color:"black"}))),c.a.createElement("p",null,"\xa9 2019 ",c.a.createElement("strong",null,"Glass")))},I=function(e){function t(e){return Object(i.a)(this,t),Object(o.a)(this,Object(u.a)(t).call(this,e))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){document.addEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"componentWillUnmount",value:function(){document.removeEventListener("click",this.handleClickOutside.bind(this),!0)}},{key:"handleClickOutside",value:function(e){var t=Object(r.findDOMNode)(this.refs.modal);t&&t.contains(e.target)||this.props.closeModal()}},{key:"handleClose",value:function(){this.props.closeModal()}},{key:"render",value:function(){return c.a.createElement("div",{className:this.props.openModal?"modal-wrapper active":"modal-wrapper"},c.a.createElement("div",{className:"modal",ref:"modal"},c.a.createElement("button",{type:"button",className:"close",onClick:this.handleClose.bind(this)},"\xd7"),c.a.createElement("div",{className:"quick-view"},c.a.createElement("div",{className:"quick-view-image"},c.a.createElement("img",{src:this.props.product.image,alt:this.props.product.name})),c.a.createElement("div",{className:"quick-view-details"},c.a.createElement("span",{className:"product-name"},this.props.product.name),c.a.createElement("span",{className:"product-price"},this.props.product.price)))))}}]),t}(n.Component),D=function(e){function t(){var e;return Object(i.a)(this,t),(e=Object(o.a)(this,Object(u.a)(t).call(this))).state={products:[],cart:[],totalItems:0,totalAmount:0,term:"",category:"",cartBounce:!1,quantity:1,quickViewProduct:{},modalActive:!1},e.handleSearch=e.handleSearch.bind(Object(m.a)(Object(m.a)(e))),e.handleMobileSearch=e.handleMobileSearch.bind(Object(m.a)(Object(m.a)(e))),e.handleCategory=e.handleCategory.bind(Object(m.a)(Object(m.a)(e))),e.handleAddToCart=e.handleAddToCart.bind(Object(m.a)(Object(m.a)(e))),e.sumTotalItems=e.sumTotalItems.bind(Object(m.a)(Object(m.a)(e))),e.sumTotalAmount=e.sumTotalAmount.bind(Object(m.a)(Object(m.a)(e))),e.checkProduct=e.checkProduct.bind(Object(m.a)(Object(m.a)(e))),e.updateQuantity=e.updateQuantity.bind(Object(m.a)(Object(m.a)(e))),e.handleRemoveProduct=e.handleRemoveProduct.bind(Object(m.a)(Object(m.a)(e))),e.openModal=e.openModal.bind(Object(m.a)(Object(m.a)(e))),e.closeModal=e.closeModal.bind(Object(m.a)(Object(m.a)(e))),e}return Object(d.a)(t,e),Object(l.a)(t,[{key:"getProducts",value:function(){var e=this;p.a.get("stubs/products.json").then(function(t){e.setState({products:t.data})})}},{key:"componentWillMount",value:function(){this.getProducts()}},{key:"handleSearch",value:function(e){this.setState({term:e.target.value})}},{key:"handleMobileSearch",value:function(){this.setState({term:""})}},{key:"handleCategory",value:function(e){this.setState({category:e.target.value}),console.log(this.state.category)}},{key:"handleAddToCart",value:function(e){var t=this.state.cart,a=e.id,n=e.quantity;if(this.checkProduct(a)){console.log("hi");var c=t.findIndex(function(e){return e.id==a});t[c].quantity=Number(t[c].quantity)+Number(n),this.setState({cart:t})}else t.push(e);this.setState({cart:t,cartBounce:!0}),setTimeout(function(){this.setState({cartBounce:!1,quantity:1}),console.log(this.state.quantity),console.log(this.state.cart)}.bind(this),1e3),this.sumTotalItems(this.state.cart),this.sumTotalAmount(this.state.cart)}},{key:"handleRemoveProduct",value:function(e,t){var a=this.state.cart,n=a.findIndex(function(t){return t.id==e});a.splice(n,1),this.setState({cart:a}),this.sumTotalItems(this.state.cart),this.sumTotalAmount(this.state.cart),t.preventDefault()}},{key:"checkProduct",value:function(e){return this.state.cart.some(function(t){return t.id===e})}},{key:"sumTotalItems",value:function(){var e;e=this.state.cart.length,this.setState({totalItems:e})}},{key:"sumTotalAmount",value:function(){for(var e=0,t=this.state.cart,a=0;a<t.length;a++)e+=t[a].price*parseInt(t[a].quantity);this.setState({totalAmount:e})}},{key:"updateQuantity",value:function(e){console.log("quantity added..."),this.setState({quantity:e})}},{key:"openModal",value:function(e){this.setState({quickViewProduct:e,modalActive:!0})}},{key:"closeModal",value:function(){this.setState({modalActive:!1})}},{key:"render",value:function(){return c.a.createElement("div",{className:"container"},c.a.createElement(S,{cartBounce:this.state.cartBounce,total:this.state.totalAmount,totalItems:this.state.totalItems,cartItems:this.state.cart,removeProduct:this.handleRemoveProduct,handleSearch:this.handleSearch,handleMobileSearch:this.handleMobileSearch,handleCategory:this.handleCategory,categoryTerm:this.state.category,updateQuantity:this.updateQuantity,productQuantity:this.state.moq}),c.a.createElement(Q,{productsList:this.state.products,searchTerm:this.state.term,addToCart:this.handleAddToCart,productQuantity:this.state.quantity,updateQuantity:this.updateQuantity,openModal:this.openModal}),c.a.createElement(A,null),c.a.createElement(I,{product:this.state.quickViewProduct,openModal:this.state.modalActive,closeModal:this.closeModal}))}}]),t}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(c.a.createElement(D,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[29,2,1]]]);
//# sourceMappingURL=main.67321f67.chunk.js.map